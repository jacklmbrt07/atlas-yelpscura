<%- include('../partials/header') %>

<section>
  <h2><%= city.name %></h2>
</section>

<h4>Landmarks</h4>

<br />
<% if (city.landmarks.length) { %>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% city.landmarks.forEach(l => { %>
    <tr>
      <td><%= l.name %></td>
      <td><%= l.address %></td>
      <td><%= l.category %></td>
      <td>
        <form
          action="/cities/<%= city._id %>/landmarks/<%= l._id %>?_method=DELETE"
          class="delete-form"
          method="POST"
        >
          <button type="submit">Delete Landmark</button>
        </form>
      </td>
      <td>
        <a href="/landmarks/<%= l._id %>/edit" role="button">Edit</a>
      </td>
    </tr>
    <% }); %>
  </tbody>
</table>
<% } else { %>
<h6>No Landmarks yet...</h6>
<% } %>
<br />
<% if (user) { %>
<h5>Add a Landmark</h5>
<form action="/cities/<%= city._id %>/landmarks" method="POST">
  <br />
  <label>Name: </label>
  <input type="text" name="name" />
  <br />
  <label>Address: </label>
  <input type="text" name="address" />
  <br />
  <label>Type: </label>
  <select name="category">
    <option value="Nature">Nature</option>
    <option value="History">History</option>
    <option value="Science">Science</option>
    <option value="Food">Food</option>
    <option value="Art">Art</option>
    <option value="Architecture">Architecture</option>
    <option value="Religious">Religious</option>
  </select>
  <br />
  <label>image: </label>
  <input type="text" name="img" />
  <br />
  <button type="submit">Add Landmark</button>
</form>
<% } else { %>
<h3>Must be logged in to enter landmark</h3>
<% } %>
<br />
<%- include('../partials/footer') %>
